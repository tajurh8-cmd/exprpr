<!doctype html>
<html lang="id">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Expired Control</title>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<style>
body{background:#f4f6f8}
.item-card{margin-bottom:10px}
.label{font-size:11px;color:#6c757d}
.umur{font-size:13px;font-weight:600}

.b-merah{border-left:5px solid #dc3545}
.b-kuning{border-left:5px solid #ffc107}
.b-hijau{border-left:5px solid #198754}
.b-biru{border-left:5px solid #0d6efd}
.b-abu{border-left:5px solid #6c757d}

.pill{
  display:inline-block;
  font-size:11px;
  padding:4px 8px;
  border-radius:12px;
  font-weight:600;
  line-height:1;
}

.warn{
  color:#dc3545;
  font-size:11px;
  font-weight:600;
}
</style>

<script>
if(!localStorage.getItem("user")) location.href="login.html";
</script>
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#0d6efd">

</head>

<body>

<div class="container my-3">

<!-- INPUT -->
<div class="card shadow-sm mb-3">
  <div class="card-body">
    <div class="row g-2">

      <div class="col-md-3">
        <select id="rakSelect" class="form-select form-select-sm mb-1"></select>
        <input id="rakInput" class="form-control form-control-sm" placeholder="+ rak baru">
      </div>

      <div class="col-md-4">
        <div class="input-group input-group-sm">
          <input id="barcode" class="form-control" placeholder="Scan barcode">
          <button class="btn btn-outline-secondary" onclick="openScanner()">ðŸ“·</button>
        </div>
        <input id="deskripsi"
               class="form-control form-control-sm mt-1"
               placeholder="Deskripsi barang"
               readonly tabindex="-1">
      </div>

      <div class="col-md-3">
        <input id="expired" type="date" class="form-control form-control-sm">
      </div>

      <div class="col-md-1">
        <input id="qty" type="number" class="form-control form-control-sm">
      </div>

      <div class="col-md-1">
        <button class="btn btn-sm btn-primary w-100" onclick="simpan()">+</button>
      </div>

    </div>
  </div>
</div>

<!-- SCANNER -->
<div id="scannerBox" class="card mb-2 d-none">
  <div class="card-body">
    <video id="video" autoplay></video>
    <button onclick="closeScanner()" class="btn btn-danger btn-sm w-100 mt-2">Tutup</button>
  </div>
</div>

<!-- LIST -->
<div id="list"></div>

</div>

<script type="module" src="app.js"></script>
<script>
if ("serviceWorker" in navigator) {
  navigator.serviceWorker.register("service-worker.js");
}
</script>

</body>
</html>
